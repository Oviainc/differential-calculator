<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mortgage Prepayment Penalty Calculator</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f4f4f4; /* Light gray background */
            color: #333; /* Dark gray text */
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: #ffffff; /* White background for content */
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
        }
        h2 {
            color: #333;
            border-bottom: 2px solid #2c3e50; /* Underline subheadings */
            padding-bottom: 5px;
        }
        label {
            display: block;
            margin: 10px 0 5px;
        }
        input {
            padding: 10px;
            width: 100%;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button {
            padding: 10px;
            background-color: #2c3e50; /* Dark blue background */
            color: #fff; /* White text */
            border: none;
            border-radius: 4px;
            cursor: pointer;
            width: 100%; /* Full width for buttons */
            transition: background-color 0.3s ease; /* Smooth transition */
        }
        button:hover {
            background-color: #34495e; /* Darker blue on hover */
        }
        .result {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #2c3e50;
            border-radius: 4px;
            background-color: #ecf0f1; /* Light gray result background */
        }
        .intro, .clarification {
            font-size: 1.1em; 
            margin-bottom: 20px; 
        }
        ul {
            margin: 10px 0 20px;
        }
        .instructions {
            background-color: #f9f9f9; /* Light background for instructions */
            border: 1px solid #ddd; /* Light border */
            padding: 10px;
            border-radius: 4px;
        }
        .clarification {
            background-color: #e8f4f8; /* Light blue background for clarification */
            border: 1px solid #b3e5fc; /* Light blue border */
            padding: 10px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Mortgage Prepayment Penalty Calculator</h1>
        
        <div class="intro">
            <h2>Introduction</h2>
            <p>
                Welcome to the Mortgage Prepayment Penalty Calculator! This tool helps you evaluate potential penalties when paying off your mortgage early or making additional payments. 
                You can calculate two primary penalty methods: 
                <strong>Three Months' Interest</strong> and <strong>Interest Rate Differential (IRD)</strong>.
            </p>
            <p>
                Understanding these penalties is crucial to avoid paying more than necessary. By comparing both methods, you can choose the more economical option, saving you money and ensuring informed financial decisions.
            </p>
        </div>

        <div class="instructions">
            <h2>Instructions</h2>
            <p>Here's what you need to gather for each calculator:</p>
            <ul>
                <li>
                    <strong>Three Months' Interest Penalty:</strong> 
                    - You'll need the <em>current mortgage interest rate</em> (as a percentage) and the <em>remaining balance of your mortgage</em> (in dollars). 
                    This information can usually be found in your mortgage statement or by contacting your lender.
                </li>
                <li>
                    <strong>Interest Rate Differential (IRD) Penalty:</strong>
                    - You'll need the <em>posted rate on your signing day</em> (as a percentage), the <em>current posted rate for a new term</em> (also a percentage), the <em>remaining balance of your mortgage</em> (in dollars), and the <em>remaining months in your mortgage term</em>.
                    This data can also be obtained from your mortgage documents or by checking with your lender.
                </li>
            </ul>
        </div>

        <div class="clarification">
            <h2>Clarification on Mortgage Terms</h2>
            <p>
                Understanding the difference between the <strong>mortgage term</strong> and the <strong>amortization period</strong> is important for calculating penalties:
            </p>
            <ul>
                <li>
                    <strong>Mortgage Term:</strong> This is the length of time until your mortgage contract expires, often ranging from 1 to 10 years. At the end of the term, you must either pay off the remaining balance or renew the mortgage.
                </li>
                <li>
                    <strong>Amortization Period:</strong> This is the total length of time over which your mortgage is scheduled to be paid off completely, typically ranging from 15 to 30 years. It includes all scheduled payments throughout the life of the mortgage.
                </li>
            </ul>
            <p>
                The <strong>Three Months' Interest Penalty</strong> calculation is based on the remaining balance of the mortgage and the current mortgage interest rate, while the <strong>Interest Rate Differential (IRD)</strong> penalty calculation considers the remaining months in your mortgage term along with the posted interest rates.
            </p>
        </div>

        <h2>Three Months' Interest Penalty Calculator</h2>
        <label for="mortgageRate">Current Mortgage Rate (%):</label>
        <input type="number" id="mortgageRate" placeholder="e.g., 2.25" step="0.01" required>

        <label for="remainingBalance1">Remaining Balance of Mortgage ($):</label>
        <input type="number" id="remainingBalance1" placeholder="e.g., 300000" required>

        <button onclick="calculateThreeMonthsInterest()">Calculate 3-Months Interest Penalty</button>
        <div class="result" id="threeMonthsResult"></div>

        <h2>Interest Rate Differential (IRD) Penalty Calculator</h2>
        <label for="postedRateOld">Posted Rate on Signing Day (%):</label>
        <input type="number" id="postedRateOld" placeholder="e.g., 5.49" step="0.01" required>

        <label for="postedRateNew">Current Posted Rate for New Term (%):</label>
        <input type="number" id="postedRateNew" placeholder="e.g., 3.04" step="0.01" required>

        <label for="remainingBalance2">Remaining Balance of Mortgage ($):</label>
        <input type="number" id="remainingBalance2" placeholder="e.g., 300000" required>

        <label for="remainingMonths">Remaining Months in Mortgage Term:</label>
        <input type="number" id="remainingMonths" placeholder="e.g., 23" required>

        <button onclick="calculateIRD()">Calculate IRD Penalty</button>
        <div class="result" id="irdResult"></div>

        <h2>Comparison</h2>
        <button onclick="comparePenalties()">Compare Penalties</button>
        <div class="result" id="comparisonResult"></div>
    </div>

    <script>
        let threeMonthsPenalty = 0;
        let irdPenalty = 0;

        function calculateThreeMonthsInterest() {
            const mortgageRate = parseFloat(document.getElementById('mortgageRate').value) / 100;
            const remainingBalance = parseFloat(document.getElementById('remainingBalance1').value);
            const threeMonthsInterest = (remainingBalance * mortgageRate * 3).toFixed(2);
            threeMonthsPenalty = parseFloat(threeMonthsInterest);
            document.getElementById('threeMonthsResult').innerHTML = `
                <h3>Three Months' Interest Penalty:</h3>
                <p>$${threeMonthsInterest}</p>
            `;
        }

        function calculateIRD() {
            const postedRateOld = parseFloat(document.getElementById('postedRateOld').value) / 100;
            const postedRateNew = parseFloat(document.getElementById('postedRateNew').value) / 100;
            const remainingBalance = parseFloat(document.getElementById('remainingBalance2').value);
            const remainingMonths = parseFloat(document.getElementById('remainingMonths').value);
            
            // Check if the old rate is greater than the new rate before calculating IRD
            if (postedRateOld > postedRateNew) {
                const interestDifferential = (postedRateOld - postedRateNew) * remainingBalance;
                const irc = (interestDifferential * remainingMonths) / 12;
                irdPenalty = irc.toFixed(2);
                document.getElementById('irdResult').innerHTML = `
                    <h3>Interest Rate Differential Penalty:</h3>
                    <p>$${irdPenalty}</p>
                `;
            } else {
                document.getElementById('irdResult').innerHTML = `
                    <h3>Interest Rate Differential Penalty:</h3>
                    <p>The posted rate on your signing day must be greater than the current posted rate for the calculation to apply.</p>
                `;
            }
        }

        function comparePenalties() {
            if (threeMonthsPenalty > 0 && irdPenalty > 0) {
                let comparisonMessage = `Comparing penalties:\n`;
                comparisonMessage += `Three Months' Interest Penalty: $${threeMonthsPenalty}\n`;
                comparisonMessage += `Interest Rate Differential Penalty: $${irdPenalty}\n`;
                comparisonMessage += (threeMonthsPenalty < irdPenalty) ? 
                    `Choosing Three Months' Interest Penalty will save you money.` : 
                    `Choosing Interest Rate Differential Penalty will save you money.`;
                document.getElementById('comparisonResult').innerHTML = comparisonMessage.replace(/\n/g, "<br>");
            } else {
                document.getElementById('comparisonResult').innerHTML = `
                    <h3>Please calculate both penalties before comparing.</h3>
                `;
            }
        }
    </script>
</body>
</html>
