<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mortgage Prepayment Penalty Calculator</title>
    <style>
        body {
            font-family: 'Arial', sans-serif; /* Use a clear and modern font */
            background-color: #ffffff; /* White background */
            color: #000000; /* Black text color */
            margin: 20px;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        h1 {
            color: #2c3e50;
        }
        h2 {
            color: #333; /* Darker heading color for subheadings */
        }
        label {
            display: block;
            margin: 10px 0 5px;
        }
        input {
            padding: 8px;
            width: 100%;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button {
            padding: 10px;
            background-color: #000; /* Black background */
            color: #fff; /* White text */
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #fff; /* White background on hover */
            color: #000; /* Black text on hover */
            border: 1px solid #000; /* Border for hover effect */
        }
        .result {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #2c3e50;
            border-radius: 4px;
            background-color: #ecf0f1;
        }
        .intro {
            font-size: 1.1em; /* Slightly larger font for the introduction */
            margin-bottom: 20px; /* Space between intro and calculator */
        }
    </style>
</head>
<body>
    <h1>Mortgage Prepayment Penalty Calculator</h1>
    
    <div class="intro">
        <h2>Introduction</h2>
        <p>
            Welcome to the Mortgage Prepayment Penalty Calculator! This tool helps you evaluate potential penalties when paying off your mortgage early or making additional payments. 
            You can calculate two primary penalty methods: 
            <strong>Three Months' Interest</strong> and <strong>Interest Rate Differential (IRD)</strong>.
        </p>
        <p>
            Understanding these penalties is crucial to avoid paying more than necessary. By comparing both methods, you can choose the more economical option, saving you money and ensuring informed financial decisions.
        </p>
        <h2>Instructions</h2>
        <p>
            Here's what you need to gather for each calculator:
        </p>
        <ul>
            <li>
                <strong>Three Months' Interest Penalty:</strong> 
                - You'll need the <em>current mortgage interest rate</em> (as a percentage) and the <em>remaining balance of your mortgage</em> (in dollars). 
                - This information can usually be found in your mortgage statement or by contacting your lender.
            </li>
            <li>
                <strong>Interest Rate Differential (IRD) Penalty:</strong>
                - You'll need the <em>posted rate on your signing day</em> (as a percentage), the <em>current posted rate for a new term</em> (also a percentage), the <em>remaining balance of your mortgage</em> (in dollars), and the <em>remaining months in your mortgage term</em>.
                - This data can also be obtained from your mortgage documents or by checking with your lender.
            </li>
        </ul>
    </div>

    <h2>Three Months' Interest Penalty Calculator</h2>
    <label for="mortgageRate">Current Mortgage Rate (%):</label>
    <input type="number" id="mortgageRate" placeholder="e.g., 2.25" step="0.01" required>

    <label for="remainingBalance1">Remaining Balance of Mortgage ($):</label>
    <input type="number" id="remainingBalance1" placeholder="e.g., 300000" required>

    <button onclick="calculateThreeMonthsInterest()">Calculate 3-Months Interest Penalty</button>
    <div class="result" id="threeMonthsResult"></div>

    <h2>Interest Rate Differential (IRD) Penalty Calculator</h2>
    <label for="postedRateOld">Posted Rate on Signing Day (%):</label>
    <input type="number" id="postedRateOld" placeholder="e.g., 5.49" step="0.01" required>

    <label for="postedRateNew">Current Posted Rate for New Term (%):</label>
    <input type="number" id="postedRateNew" placeholder="e.g., 3.04" step="0.01" required>

    <label for="remainingBalance2">Remaining Balance of Mortgage ($):</label>
    <input type="number" id="remainingBalance2" placeholder="e.g., 300000" required>

    <label for="remainingMonths">Remaining Months in Mortgage Term:</label>
    <input type="number" id="remainingMonths" placeholder="e.g., 23" required>

    <button onclick="calculateIRD()">Calculate IRD Penalty</button>
    <div class="result" id="irdResult"></div>

    <h2>Comparison</h2>
    <button onclick="comparePenalties()">Compare Penalties</button>
    <div class="result" id="comparisonResult"></div>

    <script>
        let threeMonthsPenalty = 0;
        let irdPenalty = 0;

        function calculateThreeMonthsInterest() {
            const mortgageRate = parseFloat(document.getElementById('mortgageRate').value) / 100;
            const remainingBalance = parseFloat(document.getElementById('remainingBalance1').value);
            const threeMonthsInterest = (remainingBalance * mortgageRate * 3).toFixed(2);
            threeMonthsPenalty = parseFloat(threeMonthsInterest);
            document.getElementById('threeMonthsResult').innerHTML = `
                <h3>Three Months' Interest Penalty:</h3>
                <p>$${threeMonthsInterest}</p>
            `;
        }

        function calculateIRD() {
            const postedRateOld = parseFloat(document.getElementById('postedRateOld').value) / 100;
            const postedRateNew = parseFloat(document.getElementById('postedRateNew').value) / 100;
            const remainingBalance = parseFloat(document.getElementById('remainingBalance2').value);
            const remainingMonths = parseFloat(document.getElementById('remainingMonths').value);
            
            // Check if the old rate is greater than the new rate before calculating IRD
            if (postedRateOld > postedRateNew) {
                const interestDifferential = (postedRateOld - postedRateNew) * remainingBalance * (remainingMonths / 12);
                const irPenalty = interestDifferential.toFixed(2);
                irdPenalty = parseFloat(irPenalty);
                document.getElementById('irdResult').innerHTML = `
                    <h3>Interest Rate Differential Penalty:</h3>
                    <p>$${irPenalty}</p>
                `;
            } else {
                document.getElementById('irdResult').innerHTML = `
                    <h3>Interest Rate Differential Penalty:</h3>
                    <p>The posted rate on signing day must be greater than the current posted rate for a new term.</p>
                `;
            }
        }

        function comparePenalties() {
            const lowerPenalty = Math.min(threeMonthsPenalty, irdPenalty).toFixed(2);
            const method = lowerPenalty === threeMonthsPenalty.toFixed(2) ? "Three Months' Interest" : "Interest Rate Differential (IRD)";
            document.getElementById('comparisonResult').innerHTML = `
                <h3>Comparison Result:</h3>
                <p>The lower prepayment penalty is: $${lowerPenalty} using the ${method} method.</p>
            `;
        }
    </script>
</body>
</html>
